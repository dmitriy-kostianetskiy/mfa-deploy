(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[743],{6743:(F,l,a)=>{a.r(l);var c=a(7477),n=a(8230),d=a(1225);let m=(()=>{class e{constructor(){this.widgetsMap={text:(0,d.defer)(()=>a.e(747).then(a.t.bind(a,4747,23))),image:(0,d.defer)(()=>a.e(442).then(a.t.bind(a,1442,23)))},this.takeComponent=t=>t.RemoteEntryComponent}loadWidget(t){const r=this.widgetsMap[t];if(!r)throw new Error(`Unable to find mfe for ${t}`);return r.pipe((0,d.map)(this.takeComponent))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p=(()=>{class e{constructor(t){this.widgetLookup=t,this.widgetsSubject=new d.BehaviorSubject([]),this.widgets$=this.widgetsSubject.asObservable()}createWidget(t){this.widgetLookup.loadWidget(t).pipe((0,d.take)(1)).subscribe({next:r=>{this.widgetsSubject.next([...this.widgetsSubject.value,r])}})}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275inject(m))},e.\u0275prov=n.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();var i=a(469);function u(e,o){if(1&e){const t=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",1),n.\u0275\u0275listener("click",function(){const s=n.\u0275\u0275restoreView(t).$implicit;return n.\u0275\u0275nextContext().onCreateWidget(s)}),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()}if(2&e){const t=o.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" Create ",t," Widget\n")}}let g=(()=>{class e{constructor(){this.widgetTypes=[],this.createWidget=new n.EventEmitter}onCreateWidget(t){this.createWidget.emit(t)}trackWidgetType(t,r){return r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["mfe-dashboard-header"]],inputs:{widgetTypes:"widgetTypes"},outputs:{createWidget:"createWidget"},decls:1,vars:2,consts:[[3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click"]],template:function(t,r){1&t&&n.\u0275\u0275template(0,u,2,1,"button",0),2&t&&n.\u0275\u0275property("ngForOf",r.widgetTypes)("ngForTrackBy",r.trackWidgetType)},directives:[i.NgForOf],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:2px;gap:2px}"]}),e})();function f(e,o){1&e&&n.\u0275\u0275elementContainer(0)}function h(e,o){if(1&e&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,f,1,0,"ng-container",1),n.\u0275\u0275elementContainerEnd()),2&e){const t=o.$implicit;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngComponentOutlet",t)}}let b=(()=>{class e{trackWidget(t,r){return r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["mfe-dashboard"]],inputs:{widgets:"widgets"},decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngComponentOutlet"]],template:function(t,r){1&t&&n.\u0275\u0275template(0,h,2,1,"ng-container",0),2&t&&n.\u0275\u0275property("ngForOf",r.widgets)("ngForTrackBy",r.trackWidget)},directives:[i.NgForOf,i.NgComponentOutlet],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));grid-auto-rows:100px;grid-auto-flow:dense;grid-gap:2px;gap:2px;justify-items:stretch}"],changeDetection:0}),e})(),C=(()=>{class e{constructor(t){this.dashboardService=t,this.widgetTypes=["text","image"],this.widgets$=this.dashboardService.widgets$}onCreateWidget(t){this.dashboardService.createWidget(t)}}return e.\u0275fac=function(t){return new(t||e)(n.\u0275\u0275directiveInject(p))},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["mfe-dashboard-container"]],features:[n.\u0275\u0275ProvidersFeature([p])],decls:3,vars:4,consts:[[3,"widgetTypes","createWidget"],[3,"widgets"]],template:function(t,r){1&t&&(n.\u0275\u0275elementStart(0,"mfe-dashboard-header",0),n.\u0275\u0275listener("createWidget",function(s){return r.onCreateWidget(s)}),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(1,"mfe-dashboard",1),n.\u0275\u0275pipe(2,"async")),2&t&&(n.\u0275\u0275property("widgetTypes",r.widgetTypes),n.\u0275\u0275advance(1),n.\u0275\u0275property("widgets",n.\u0275\u0275pipeBind1(2,2,r.widgets$)))},directives:[g,b],pipes:[i.AsyncPipe],styles:[""],changeDetection:0}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.\u0275\u0275defineComponent({type:e,selectors:[["mfe-root"]],decls:1,vars:0,template:function(t,r){1&t&&n.\u0275\u0275element(0,"mfe-dashboard-container")},directives:[C],encapsulation:2}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[i.CommonModule,v,w]]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.\u0275\u0275defineNgModule({type:e,bootstrap:[y]}),e.\u0275inj=n.\u0275\u0275defineInjector({imports:[[c.BrowserModule,D]]}),e})();(0,n.enableProdMode)(),c.platformBrowser().bootstrapModule(M).catch(e=>console.error(e))}}]);